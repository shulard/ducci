<!doctype html>
<html lang="fr">

  <head>
    <meta charset="utf-8">

    <title>Master 2 - Workflow</title>

    <meta name="description" content="Automatisation, workflow de développement, intégration continue...">
    <meta name="author" content="Stéphane HULARD">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="../../../assets/reveal.js/css/reveal.css">
    <link rel="stylesheet" href="../../../assets/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../../assets/css/theme.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="../../../assets/css/solarized-dark.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? '../../../assets/reveal.js/css/print/pdf.css' : '../../../assets/reveal.js/css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="../../../assets/reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal concave center">
      <p class="global-footer">
        <a href="https://chstudio.fr"><img src="../../../logo.png" width="20" /></a>
        2019&nbsp;-&nbsp;ICOM Université Lyon 2&nbsp;-&nbsp;Master 2 DT
      </p>

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section data-background-color="rgba( 0, 174, 239, 0.8 )" data-background="../../../assets/images/blueprint.jpg">
          <h1>Workflow</h1>
          <p>Intégration et déploiement continue</p>
          <p><small>Session 2</small></p>
        </section>
<!--#########################################################################-->
<!--1-------------------------------------------------------------------------->
        <section class="stack">
          <section>
            <h1>Qu’est-ce que c'est ?</h1>
          </section>
          <section>
            <blockquote cite="https://fr.wikipedia.org/wiki/Int%C3%A9gration_continue">L'intégration continue est un ensemble de pratiques utilisées en génie logiciel consistant à vérifier à chaque modification de code source que le résultat des modifications ne produit pas de régression dans l'application développée.</blockquote>
          </section>
          <section>
            <h1>Workflow de traitement du code</h1>
            <p>Vérifier chaque commit pour garantir la stabilité.</p>
          </section>
          <section>
            <h1>Tester toute l'application</h1>
            <ul>
              <li>Identifier les étapes</li>
              <li>Créer un contexte de test fiable</li>
              <li>Rendre les tests reproductibles</li>
            </ul>
          </section>
          <section>
            <h1>Réduire au minimum</h1>
            <p>Garantir que l'application fonctionne dans un environnement simple.</p>
          </section>
          <section>
            <h1>L'environnement d'exécution</h1>
            <p>Éphémère, reconstructible, léger, complet, identique à la production, le plus simple possible...</p>
          </section>
          <section>
            <h1>Docker à la rescousse</h1>
            <ul>
              <li>Virtualisation</li>
              <li>Encapsulation</li>
              <li>Légèreté (Alpine Linux)</li>
            </ul>
          </section>
        </section>
<!--1-------------------------------------------------------------------------->
        <section class="stack">
          <section data-background="../../../assets/images/tools.jpg">
            <h1>Des outils spécifiques</h1>
          </section>
          <section>
            <h1>Task runner</h1>
            <p>Gulp, Phing, Ant, Make, Grunt...</p>
          </section>
          <section>
            <h1>Tests unitaires</h1>
            <p>PHPUnit, Atoum, QUnit, UnitJS...</p>
          </section>
          <section>
            <h1>Tests d'intégration</h1>
            <p>Behat, Selenium...</p>
          </section>
          <section>
            <h1>Plaforme d'intégration continue</h1>
            <p>TravisCI, GitlabCI, Jenkins, Hudson, TeamCity...</p>
          </section>
        </section>
<!--1-------------------------------------------------------------------------->
        <section class="stack">
          <section data-background="../../../assets/images/workspace-2.jpg">
            <h1>Un workflow</h1>
          </section>
          <section>
            <img src="images/builds.png" />
          </section>
          <section>
            <img src="images/build-workflow.png" />
          </section>
          <section>
            <img src="images/build-detail.png" />
          </section>
        </section>
        <section class="stack">
          <section data-background="../../../assets/images/network-2.jpg">
            <h1>Déploiement et sécurité</h1>
          </section>
          <section>
            <h1>Droits d'accès aux serveurs</h1>
            <ul>
              <li>Des comptes utilisateurs spécifiques et limités.</li>
              <li>Ne pas oublier l'utilisateur <code>www-data</code></li>
              <li><code>sudo</code> n'est pas un ennemi</li>
            </ul>
          </section>
          <section>
            <h1>Droits d'accès à la BDD</h1>
            <ul>
              <li>Permissions et limitations</li>
              <li>Un utilisateur pour les backups ?</li>
            </ul>
          </section>
          <section>
            <h1>SSH, Rsync et autres...</h1>
            <p>Se connecter à / aux machines pour mettre à jour le code et la configuration...</p>
          </section>
        </section>
<!--1-------------------------------------------------------------------------->
        <section class="stack">
          <section data-background="../../../assets/images/complexity.jpg">
            <h1>Orchestration</h1>
          </section>
          <section>
            <h1>Scripter l'installation serveur</h1>
            <ul>
              <li>Normalisation de l'environnement</li>
              <li>Maitrise des packages installés</li>
              <li>Reproductibilité</li>
            </ul>
          </section>
          <section>
            <h1>Des outils ?</h1>
            <ul>
              <li><a href="https://www.ansible.com/">Ansible</a></li>
              <li><a href="https://puppet.com/">Puppet</a></li>
              <li><a href="https://www.chef.io/chef/">Chef</a></li>
            </ul>
          </section>
        </section>
<!--1-------------------------------------------------------------------------->
        <section class="stack">
          <section data-background="../../../assets/images/code.jpg">
            <h1>Cycle de déploiement<br/><small>Environnements</small></h1>
          </section>
          <section>
            <h1>Sur <code>dev</code>, en automatique</h1>
            <p>Pas de contraintes, possibilité de tester rapidement.</p>
          </section>
          <section>
            <h1>Sur <code>qa</code>, à la main</h1>
            <p>S'assurer que ca fonctionne sur DEV avant de lancer le déploiement.</p>
          </section>
          <section>
            <h1><code>prod</code>, uniquement avec un tag</h1>
            <ul>
              <li>Versionning à la rescousse</li>
              <li>Un tag est une version figée stable</li>
              <li>Test sur les environnements précédent</li>
            </ul>
          </section>
          <section>
            <h1>Migrations, BDD et seeds</h1>
            <ul>
              <li>Versionner les modifications</li>
              <li>Ajouter / retirer les migrations</li>
              <li>Vérification d'intégrité</li>
              <li>Déploiement des données par défaut</li>
            </ul>
          </section>
        </section>
<!--#########################################################################-->
        <section data-background-color="rgba( 0, 174, 239, 0.8 )"></section>
      </div>

    </div>

    <script src="../../../assets/reveal.js/lib/js/head.min.js"></script>
    <script src="../../../assets/reveal.js/js/reveal.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: false,
        progress: true,
        history: true,
        center: true,
        slideNumber: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: '../assets/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: '../assets/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: '../assets/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: '../assets/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: '../assets/reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: '../assets/reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>
  </body>
</html>
